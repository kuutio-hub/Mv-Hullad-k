
/* --- GENERAL & SETUP --- */
:root {
    --marton-blue: #004a99;
    --marton-green: #6a8d24;
    --holiday-red: #c8102e;
    --waste-selective-bg: #e0f2fe;
    --waste-selective-text: #0c4a6e;
    --waste-green-bg: #f0fdf4;
    --waste-green-text: #166534;
    --waste-mixed-bg: #f1f5f9;
    --waste-mixed-text: #1e293b;
    --waste-glass-bg: #fefce8;
    --waste-glass-text: #854d0e;
}

body {
    font-family: 'Inter', sans-serif;
    background-color: #f1f5f9; /* slate-100 */
    color: #1e293b; /* slate-800 */
    margin: 0;
}

.container {
    width: 100%;
    margin-left: auto;
    margin-right: auto;
    padding-left: 1rem;
    padding-right: 1rem;
}

@media (min-width: 640px) { .container { max-width: 640px; } }
@media (min-width: 768px) { .container { max-width: 768px; padding-left: 2rem; padding-right: 2rem; } }
@media (min-width: 1024px) { .container { max-width: 1024px; } }
@media (min-width: 1280px) { .container { max-width: 1280px; } }
@media (min-width: 1536px) { .container { max-width: 1536px; } }


/* --- HEADER --- */
#app-header {
    background-color: white;
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    padding: 1rem;
    position: sticky;
    top: 0;
    z-index: 20;
}

#app-header .container {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
}

.header-logo { display: flex; align-items: center; gap: 0.75rem; }
.header-logo svg { height: 2.5rem; width: 2.5rem; }
.header-logo h1 { font-size: 1.5rem; font-weight: 700; color: var(--marton-blue); }

.header-nav { display: flex; align-items: center; justify-content: center; gap: 1rem; }
.header-nav .date-display { text-align: center; width: 12rem; }
.header-nav .date-display h2 { font-size: 1.5rem; font-weight: 700; color: #334155; }
.header-nav .date-display p { font-size: 0.875rem; color: #64748b; }
.header-nav button { padding: 0.5rem; border-radius: 9999px; background-color: transparent; border: none; cursor: pointer; transition: background-color 0.2s; }
.header-nav button:hover { background-color: #e2e8f0; }
.header-nav button i { color: var(--marton-blue); }
.header-nav .today-btn { border: 1px solid var(--marton-blue); color: var(--marton-blue); font-weight: 600; padding: 0.5rem 1rem; border-radius: 0.375rem; }
.header-nav .today-btn:hover { background-color: var(--marton-blue); color: white; }

.header-controls { display: flex; align-items: center; gap: 1rem; }
.header-controls .toggle-container { display: flex; align-items: center; gap: 0.5rem; }
.header-controls .toggle-container span { font-size: 0.875rem; font-weight: 500; color: #475569; }
.header-controls .toggle-switch { position: relative; display: inline-flex; height: 1.5rem; width: 2.75rem; align-items: center; border-radius: 9999px; transition: background-color 0.2s; cursor: pointer; }
.header-controls .toggle-switch[data-enabled="true"] { background-color: var(--marton-green); }
.header-controls .toggle-switch[data-enabled="false"] { background-color: #cbd5e1; }
.header-controls .toggle-switch span { display: inline-block; height: 1rem; width: 1rem; transform: translateX(0.25rem); border-radius: 9999px; background-color: white; transition: transform 0.2s; }
.header-controls .toggle-switch[data-enabled="true"] span { transform: translateX(1.5rem); }

@media (max-width: 640px) {
    .header-logo h1 { display: none; }
}
@media (max-width: 768px) {
    #app-header .container { justify-content: center; }
}

/* --- ACTION BUTTONS & LEGEND --- */
#action-buttons-container { background-color: white; padding: 1rem; border-radius: 0.75rem; box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); margin-bottom: 2rem; display: flex; flex-wrap: wrap; justify-content: center; align-items: center; gap: 0.75rem; }
#action-buttons-container button { flex-grow: 1; color: white; font-weight: 700; padding: 0.5rem 1rem; border-radius: 0.5rem; border: none; cursor: pointer; transition: opacity 0.2s; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); }
#action-buttons-container button:hover { opacity: 0.9; }
#action-buttons-container button i { margin-right: 0.5rem; }
#action-buttons-container .view-toggle { display: flex; align-items: center; background-color: #e5e7eb; border-radius: 0.5rem; padding: 0.25rem; }
#action-buttons-container .view-toggle button { background: none; box-shadow: none; font-weight: 600; transition: all 0.2s; }
#action-buttons-container .view-toggle button.active { background-color: var(--marton-blue); color: white; box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1); }
#action-buttons-container .view-toggle button:not(.active) { color: #4b5563; }
#action-buttons-container .btn-waste { background-color: var(--marton-blue); }
#action-buttons-container .btn-nameday { background-color: var(--marton-green); }
#action-buttons-container .btn-subscribe { background-color: #4b5563; }
#action-buttons-container .btn-print { background-color: #dc2626; }

#legend-container { display: flex; flex-wrap: wrap; justify-content: center; align-items: center; gap: 1.5rem 0.5rem; margin-bottom: 1.5rem; padding: 1rem; background-color: white; border-radius: 0.5rem; box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1); }
.legend-item { display: flex; align-items: center; gap: 0.5rem; }
.legend-item .color-box { width: 1.25rem; height: 1.25rem; border-radius: 0.375rem; border: 1px solid #ccc; }
.legend-item span { font-size: 0.875rem; font-weight: 500; color: #334155; }

/* --- CALENDAR --- */
.calendar-grid-container { background-color: white; border-radius: 0.75rem; box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); padding: 1rem; }
.calendar-header { display: grid; grid-template-columns: repeat(7, 1fr); gap: 0.25rem; text-align: center; font-weight: 600; color: #475569; margin-bottom: 0.5rem; }
.calendar-header div { padding: 0.5rem 0; }
.calendar-body { display: grid; grid-template-columns: repeat(7, 1fr); gap: 0.25rem; }

.calendar-day { position: relative; display: flex; flex-direction: column; padding: 0.5rem; border-radius: 0.5rem; height: 8rem; transition: all 0.2s; border: 2px solid transparent; }
.calendar-day.empty { background-color: #f8fafc; }
.calendar-day.weekend:not(.waste-day):not(.holiday) { background-color: #f1f5f9; }
.calendar-day.today { border-color: var(--marton-blue); }
.calendar-day.clickable { cursor: pointer; }
.calendar-day.clickable:hover { box-shadow: 0 0 0 2px var(--marton-blue); }

.day-number { font-weight: 600; }
.day-content { flex-grow: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; }
.day-content i { font-size: 2.25rem; opacity: 0.3; }
.day-content .holiday-name { font-size: 0.875rem; font-weight: 600; margin-top: 0.25rem; }
.day-nameday { font-size: 0.75rem; color: var(--marton-green); font-weight: 600; text-align: center; position: absolute; bottom: 0.25rem; left: 0.5rem; right: 0.5rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* Day types styling */
.calendar-day.waste-selective { background-color: var(--waste-selective-bg); color: var(--waste-selective-text); }
.calendar-day.waste-green { background-color: var(--waste-green-bg); color: var(--waste-green-text); }
.calendar-day.waste-mixed { background-color: var(--waste-mixed-bg); color: var(--waste-mixed-text); }
.calendar-day.waste-glass { background-color: var(--waste-glass-bg); color: var(--waste-glass-text); }
.calendar-day.holiday { border-left: 4px solid var(--holiday-red); }
.calendar-day.holiday .day-number { color: var(--holiday-red); }
.calendar-day.holiday .holiday-name { color: var(--holiday-red); }


/* Annual View */
.annual-view { display: grid; grid-template-columns: repeat(1, 1fr); gap: 1.5rem; }
@media (min-width: 640px) { .annual-view { grid-template-columns: repeat(2, 1fr); } }
@media (min-width: 1024px) { .annual-view { grid-template-columns: repeat(3, 1fr); } }
@media (min-width: 1280px) { .annual-view { grid-template-columns: repeat(4, 1fr); } }

.mini-calendar { background-color: white; border-radius: 0.5rem; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); padding: 0.75rem; }
.mini-calendar h4 { font-weight: 700; text-align: center; color: var(--marton-blue); margin-bottom: 0.5rem; }
.mini-calendar .week-header { display: grid; grid-template-columns: repeat(7, 1fr); text-align: center; font-size: 0.75rem; color: #64748b; font-weight: 600; }
.mini-calendar .days-grid { display: grid; grid-template-columns: repeat(7, 1fr); text-align: center; font-size: 0.875rem; }
.mini-calendar .day-cell-wrapper { padding: 1px; }
.mini-calendar .day-cell { width: 100%; aspect-ratio: 1 / 1; display: flex; align-items: center; justify-content: center; border-radius: 9999px; color: #334155; }
.mini-calendar .day-cell.weekend { background-color: #f1f5f9; }
.mini-calendar .day-cell.waste-selective { background-color: var(--waste-selective-bg); color: var(--waste-selective-text); }
.mini-calendar .day-cell.waste-green { background-color: var(--waste-green-bg); color: var(--waste-green-text); }
.mini-calendar .day-cell.waste-mixed { background-color: var(--waste-mixed-bg); color: var(--waste-mixed-text); }
.mini-calendar .day-cell.waste-glass { background-color: var(--waste-glass-bg); color: var(--waste-glass-text); }
.mini-calendar .day-cell.holiday { background-color: #fee2e2; color: #991b1b; font-weight: 700; }


/* --- MODALS --- */
.modal-overlay { position: fixed; inset: 0; background-color: rgba(0, 0, 0, 0.6); display: flex; align-items: center; justify-content: center; z-index: 50; padding: 1rem; }
.modal-content { background-color: white; border-radius: 1rem; box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25); width: 100%; max-height: 90vh; overflow-y: auto; padding: 2rem; position: relative; }
@media (min-width: 768px) { .modal-content { max-width: 48rem; } } /* max-w-3xl */

.modal-close-btn { position: absolute; top: 1rem; right: 1rem; color: #9ca3af; background: none; border: none; cursor: pointer; transition: color 0.2s; }
.modal-close-btn:hover { color: #374151; }
.modal-header { display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem; }
.modal-header i { color: var(--marton-blue); font-size: 3rem; }
.modal-header h2 { font-size: 1.875rem; font-weight: 700; color: #1f2937; }
.modal-header p { color: #4b5563; }

.info-modal .info-section { padding: 1rem; border: 1px solid #e5e7eb; border-radius: 0.5rem; background-color: #f9fafb; margin-bottom: 1.5rem; }
.info-modal .info-section h3 { font-size: 1.25rem; font-weight: 700; margin-bottom: 0.75rem; }
.info-modal .info-section p, .info-modal .info-section li { color: #374151; }
.info-modal .info-section a { color: #2563eb; text-decoration: none; }
.info-modal .info-section a:hover { text-decoration: underline; }

/* Event Detail Modal */
.event-detail-modal-content { max-width: 32rem; } /* max-w-md */
.event-detail-modal-content h2 { font-size: 1.5rem; font-weight: 700; color: var(--marton-blue); margin-bottom: 0.5rem; }
.event-detail-modal-content .date-header { color: #4b5563; font-weight: 600; margin-bottom: 1rem; }
.event-card { padding: 1rem; border-radius: 0.5rem; }
.event-card .event-title { display: flex; align-items: center; margin-bottom: 0.5rem; }
.event-card .event-title i { width: 1.5rem; height: 1.5rem; margin-right: 0.75rem; }
.event-card .event-title h3 { font-size: 1.25rem; font-weight: 700; }
.event-card p { font-size: 0.875rem; }

/* Subscription Modal */
.sub-modal-content { max-width: 42rem; }
.sub-modal-content .modal-header { text-align: center; flex-direction: column; }
.sub-modal-content .modal-header i { color: #22c55e; }
.sub-modal-content h3 { font-size: 1.25rem; font-weight: 600; color: #374151; border-bottom: 2px solid #22c55e; padding-bottom: 0.5rem; margin-bottom: 0.75rem; }
.sub-modal-content ol { list-style-position: inside; list-style-type: decimal; space-y: 0.5rem; color: #4b5563; }
.sub-modal-content .close-btn-container { text-align: center; margin-top: 2rem; }
.sub-modal-content .close-btn-container button { background-color: #16a34a; color: white; font-weight: 700; padding: 0.75rem 2rem; border-radius: 0.5rem; transition: background-color 0.2s; }
.sub-modal-content .close-btn-container button:hover { background-color: #15803d; }


/* --- UTILITIES & PRINT --- */
.no-print {
    display: block;
}

#info-banner-container .info-banner {
    text-align: center;
    background-color: #fef9c3;
    border-left: 4px solid #facc15;
    color: #a16207;
    padding: 1rem;
    margin-bottom: 1.5rem;
    border-radius: 0.375rem;
    box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
}
#info-banner-container .info-banner p:first-child { font-weight: 700; }

@media print {
    body {
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
    }
    .no-print {
      display: none !important;
    }
    .print-container {
      padding: 0;
      margin: 0;
      box-shadow: none;
      border: none;
    }
    @page {
      size: A4 landscape;
      margin: 1cm;
    }
    .print-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1rem;
    }
    .print-month-card {
      break-inside: avoid;
      page-break-inside: avoid;
    }
}
